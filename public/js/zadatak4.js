var string1=`{
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 3,
      "pending": 0,
      "failures": 0,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
         {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ]
  }
  `;

  var string2=`{
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 3,
      "pending": 0,
      "failures": 0,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
         {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ]
  }
  `;

   var string3=`{
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 3,
      "pending": 0,
      "failures": 0,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
         {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ]
  }
  `;

  var string4 = `{
    "stats": {
      "suites": 2,
      "tests": 4,
      "passes": 2,
      "pending": 0,
      "failures": 2,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T4",
        "fullTitle": "TEST 4 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [{
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T4",
        "fullTitle": "TEST 4 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;

    var string5=`{
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 1,
      "pending": 0,
      "failures": 2,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [ {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
         {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;

   var string6=`{
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 2,
      "pending": 0,
      "failures": 1,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [ {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;

    var string7 = `{
    "stats": {
      "suites": 2,
      "tests": 4,
      "passes": 2,
      "pending": 0,
      "failures": 2,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T4",
        "fullTitle": "TEST 4 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [{
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T4",
        "fullTitle": "TEST 4 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;

    var string8 = `{
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 2,
      "pending": 0,
      "failures": 1,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [{
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
      ],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;


 var string9 = `{
    "stats": {
      "suites": 2,
      "tests": 4,
      "passes": 2,
      "pending": 0,
      "failures": 2,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T4",
        "fullTitle": "TEST 4 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [{
        "title": "T3",
        "fullTitle": "TEST 3 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T4",
        "fullTitle": "TEST 4 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }],
    "passes": [
    {
        "title": "T1",
        "fullTitle": "TEST 1 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T2",
        "fullTitle": "TEST 2 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;

   var string10 = `{
    "stats": {
      "suites": 2,
      "tests": 4,
      "passes": 2,
      "pending": 0,
      "failures": 2,
      "start": "2021-11-05T15:00:26.343Z",
      "end": "2021-11-05T15:00:26.352Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "T5",
        "fullTitle": "TEST 5 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T6",
        "fullTitle": "TEST 6 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T7",
        "fullTitle": "TEST 7 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T8",
        "fullTitle": "TEST 8 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }
    ],
    "pending": [],
    "failures": [{
        "title": "T7",
        "fullTitle": "TEST 7 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      },
      {
        "title": "T8",
        "fullTitle": "TEST 8 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
      }],
    "passes": [
    {
        "title": "T5",
        "fullTitle": "TEST 5 porediRezultate",
        "file": null,
        "duration": 1,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        },
        {
        "title": "T6",
        "fullTitle": "TEST 6 porediRezultate",
        "file": null,
        "duration": 0,
        "currentRetry": 0,
        "speed": "fast",
        "err": {}
        }
    ]
  }
  `;



 
let assert = chai.assert;
describe('TestoviParser', function() {
    describe('metoda porediRezultate', function() {
        it('Isti testovi u oba reporta', function() {
              assert.deepEqual(TestoviParser.porediRezultate(string1,string2),{"promjena":"100%","greske":[]});
        });

        it('u 2. reportu novi test i promjena prolaznosti', function() {
               assert.deepEqual(TestoviParser.porediRezultate(string3,string4),{"promjena":"50%","greske":["TEST 3 porediRezultate","TEST 4 porediRezultate"]});
        });
        
        it('Ispravljen jedan test iz prvog reporta, sve isti testovi', function() {
              assert.deepEqual(TestoviParser.porediRezultate(string5,string6),{"promjena":"66.7%","greske":["TEST 3 porediRezultate"]});
        });

        it('U 2. reportu nema test koji ima u 1.', function() {
              assert.deepEqual(TestoviParser.porediRezultate(string7 ,string8),{"promjena":"50%","greske":["TEST 4 porediRezultate","TEST 3 porediRezultate"]});
        });

        it('Sve razliciti testovi u prvom i drugom reportu', function() {
              assert.deepEqual(TestoviParser.porediRezultate(string9,string10),{"promjena":"66.7%","greske":["TEST 3 porediRezultate","TEST 4 porediRezultate","TEST 7 porediRezultate","TEST 8 porediRezultate"]});
        });
    });
});